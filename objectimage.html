<script>
const BASE = "https://zorvaxo-public-apis.vercel.app";
async function callApi() {
  const obj = document.getElementById('object').value.trim();
  if(!obj) return alert('Please enter Object ID');

  const url = `${BASE}/api/objectimage?object=${encodeURIComponent(obj)}`;
  const responseDiv = document.getElementById('response');
  responseDiv.innerHTML = '<span class="text-gray-400">Loading...</span>';

  try {
    // Fetch image as blob
    const res = await fetch(url);
    if(!res.ok) throw new Error('Network response was not ok');
    const blob = await res.blob();

    // Create URL and display image
    const imgUrl = URL.createObjectURL(blob);
    responseDiv.innerHTML = `<img src="${imgUrl}" alt="Object Image" class="mx-auto rounded shadow-lg max-h-96"/>`;
  } catch(err){
    responseDiv.innerHTML = `<span class="text-red-500">Error: ${err}</span>`;
  }
}
</script>