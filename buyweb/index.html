<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>JNLDev Panel - Login/Register</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"/>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">
<style>
body {
    font-family: 'Poppins', sans-serif;
    background: linear-gradient(135deg, #0f172a, #0a0f1f);
    color: #fff;
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 100vh;
    overflow: hidden;
}

.header-banner {
    position: absolute;
    top: 20px;
    width: 100%;
    text-align: center;
}
.header-banner h1 {
    font-size: 2.5rem;
    font-weight: bold;
    color: #0ef;
    text-shadow: 0 0 15px #0ef, 0 0 30px #0ef;
}

.login-box {
    width: 100%;
    max-width: 420px;
    background: #0b0f1b;
    border-radius: 15px;
    padding: 35px;
    box-shadow: 0 0 30px #0ef;
    transition: transform 0.3s, box-shadow 0.3s;
}
.login-box:hover {
    transform: translateY(-5px);
    box-shadow: 0 0 50px #0ef;
}

h2 {
    text-align: center;
    margin-bottom: 25px;
    font-weight: 700;
    color: #0ef;
}

.form-control {
    background: transparent;
    border: none;
    border-bottom: 2px solid #0ef;
    border-radius: 0;
    color: #fff;
    transition: all 0.3s ease;
}
.form-control:focus {
    box-shadow: 0 0 10px #0ef;
    border-color: #00fff2;
    outline: none;
}
label { color: #aaa; }

.btn-primary {
    background: #0ef;
    border: none;
    color: #000;
    font-weight: 600;
    transition: 0.3s;
}
.btn-primary:hover {
    background: #00fff2;
    color: #000;
    transform: scale(1.05);
}
.toggle-link a {
    color: #0ef;
    cursor: pointer;
    display: block;
    margin-top: 15px;
    text-align: center;
    transition: 0.3s;
}
.toggle-link a:hover {
    text-decoration: underline;
}

.social-buttons {
    display: flex;
    justify-content: center;
    gap: 15px;
    margin-bottom: 15px;
}
.social-btn {
    flex: 1;
    padding: 10px;
    border-radius: 8px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s;
    text-align: center;
}
.social-google { background: #db4437; color: #fff; }
.social-google:hover { background: #c33d2e; transform: scale(1.05); }
.social-facebook { background: #1877f2; color: #fff; }
.social-facebook:hover { background: #1359c8; transform: scale(1.05); }

#register-fields {
    opacity: 0;
    max-height: 0;
    overflow: hidden;
    transition: opacity 0.4s, max-height 0.4s;
}
#register-fields.active {
    opacity: 1;
    max-height: 500px;
}

</style>
</head>
<body>

<div class="header-banner">
  <h1>Welcome to Jenil FF Tools</h1>
</div>

<div class="login-box">
  <h2 id="form-title">üîê Login</h2>

  <div class="social-buttons">
    <div class="social-btn social-google">Google</div>
    <div class="social-btn social-facebook">Facebook</div>
  </div>

  <form id="auth-form">
    <div id="register-fields">
      <div class="mb-3">
        <label for="name">Name</label>
        <input type="text" class="form-control" name="name" />
      </div>
      <div class="mb-3">
        <label for="username">Username</label>
        <input type="text" class="form-control" name="username" />
      </div>
    </div>

    <div class="mb-3">
      <label for="email">Email</label>
      <input type="email" class="form-control" name="email" required />
    </div>
    <div class="mb-3">
      <label for="password">Password</label>
      <input type="password" class="form-control" name="password" required />
    </div>

    <input type="hidden" name="action" id="action" value="login" />
    <button type="submit" class="btn btn-primary w-100">Submit</button>
  </form>

  <div class="toggle-link">
    <a id="toggle-form">Don't have an account? Register</a>
    <a onclick="forgotPassword()">Forgot Password?</a>
  </div>
</div>

<script>
const toggleBtn = document.getElementById('toggle-form');
const registerFields = document.getElementById('register-fields');
const formTitle = document.getElementById('form-title');
const actionInput = document.getElementById('action');

toggleBtn.addEventListener('click', () => {
    registerFields.classList.toggle('active');
    if(registerFields.classList.contains('active')) {
        formTitle.innerText = 'üìù Register';
        actionInput.value = 'register';
        toggleBtn.innerText = 'Already have an account? Login';
    } else {
        formTitle.innerText = 'üîê Login';
        actionInput.value = 'login';
        toggleBtn.innerText = "Don't have an account? Register";
    }
});

function forgotPassword() {
    Swal.fire({
        title: '‚ö†Ô∏è Forgot Password',
        text: 'This feature is not yet implemented.',
        icon: 'info',
        confirmButtonColor: '#0ef'
    });
}

document.getElementById('auth-form').addEventListener('submit', function (e) {
    e.preventDefault();
    const formData = new FormData(this);

    Swal.fire({
        title: 'Processing...',
        text: 'Please wait!',
        didOpen: () => { Swal.showLoading() },
        allowOutsideClick: false
    });

    // Replace '' with your backend URL
    fetch('', { method: 'POST', body: formData })
    .then(res => res.json())
    .then(data => {
        Swal.close();
        Swal.fire(data.status === 'success' ? '‚úÖ Success' : '‚ùå Error', data.message, data.status);
        if(data.status === 'success' && formData.get('action') === 'login') {
            setTimeout(() => { window.location.href = 'index.php'; }, 1500);
        }
    })
    .catch(() => {
        Swal.close();
        Swal.fire('‚ùå Error', 'Something went wrong!', 'error');
    });
});
</script>
</body>
</html>